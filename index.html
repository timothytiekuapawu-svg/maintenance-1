<!-- Save this as index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartFix electricals â€” Booking</title>
  <style>
    :root{ --accent1:#ffd700; --accent2:#ff8800; }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:#fff;background:#000;overflow-y:auto}
    .slideshow{position:fixed;inset:0;z-index:-3;overflow:hidden}
    .slideshow img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;animation:fadeSlide 32s infinite ease-in-out}
    .slideshow img:nth-child(1){animation-delay:0s}
    .slideshow img:nth-child(2){animation-delay:8s}
    .slideshow img:nth-child(3){animation-delay:16s}
    .slideshow img:nth-child(4){animation-delay:24s}
    @keyframes fadeSlide{0%{opacity:0}8%{opacity:1}25%{opacity:1}33%{opacity:0}100%{opacity:0}}
    .overlay{position:fixed;inset:0;z-index:-2;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));pointer-events:none}
    .page-wrap{max-width:1100px;margin:28px auto;padding:18px}
    .card{background:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(255,255,255,0.02));border-radius:14px;padding:22px;backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(0,0,0,0.45)}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;color:#000;font-weight:800}
    h1{margin:0;color:var(--accent1);font-size:1.05rem}
    .subtitle{color:rgba(255,255,255,0.92);font-size:0.95rem}
    .contact{ text-align:right; font-size:0.95rem; color:rgba(255,255,255,0.9) }
    .progress{height:10px;background:rgba(255,255,255,0.06);border-radius:8px;overflow:hidden;margin:10px 0}
    .progress > span{display:block;height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2));width:33%;transition:width 260ms}
    form{display:flex;flex-direction:column;gap:14px}
    .row{display:flex;gap:12px}
    .col{flex:1;display:flex;flex-direction:column;gap:8px}
    label{font-weight:700;color:rgba(255,255,255,0.95);font-size:0.95rem}
    input,select,textarea{padding:10px;border-radius:8px;border:none;font-size:1rem;background:#fff;color:#111}
    textarea{min-height:120px;resize:vertical}
    .buttons{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:8px;font-weight:700;cursor:pointer;border:none}
    .btn-primary{background:linear-gradient(135deg,var(--accent1),var(--accent2));color:#000}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.12);color:#fff}
    .whatsapp{background:#25D366;color:#fff;padding:10px 12px;border-radius:8px;text-decoration:none;font-weight:700;display:inline-block}
    section.step{display:none}
    section.step.active{display:block}
    .review{background:rgba(255,255,255,0.04);padding:12px;border-radius:10px}
    .spinner{width:36px;height:36px;border-radius:50%;border:5px solid rgba(255,255,255,0.12);border-top-color:var(--accent1);animation:spin 900ms linear infinite;margin:12px auto}
    @keyframes spin{to{transform:rotate(360deg)}}
    .info{margin-top:18px;background:rgba(0,0,0,0.24);padding:16px;border-radius:12px}
    footer{margin-top:18px;text-align:center;color:rgba(255,255,255,0.9)}
    .result-panel{display:none;position:fixed;inset:0;z-index:40;align-items:center;justify-content:center}
    .result-panel.active{display:flex}
    .result-card{background:rgba(255,255,255,0.10);backdrop-filter:blur(12px);padding:30px;border-radius:16px;text-align:center;max-width:520px;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
    .result-card h2{margin:0 0 10px 0}
  </style>
</head>
<body>
  <div class="slideshow" aria-hidden="true">
    <img src="electrician1.jpg" alt="">
    <img src="electrician2.jpg" alt="">
    <img src="electrician3.jpg" alt="">
    <img src="electrician4.jpg" alt="">
  </div>
  <div class="overlay" aria-hidden="true"></div>

  <main class="page-wrap">
    <div class="card">
      <header>
        <div style="display:flex;gap:12px;align-items:center">
          <div class="logo">SF</div>
          <div>
            <h1>SmartFix electricals</h1>
            <div class="subtitle">Fast â€¢ Trusted â€¢ Professional</div>
          </div>
        </div>
        <div class="contact">
          <div>Call / WhatsApp: <a href="tel:+233543899210" style="color:#fff;text-decoration:underline">+233 54 389 9210</a></div>
          <div>Email: <a href="mailto:timothytiekuapawu@gmail.com" style="color:#fff;text-decoration:underline">timothytiekuapawu@gmail.com</a></div>
        </div>
      </header>

      <div class="progress"><span id="prog" style="width:33%"></span></div>

      <!-- Step 1 -->
      <section id="step1" class="step active">
        <p class="subtitle" style="margin-bottom:10px">Step 1 â€” Tell us who you are & what you need</p>
        <form id="formMain" onsubmit="return false;">
          <div class="row">
            <div class="col">
              <label for="user_name">Full Name</label>
              <input id="user_name" name="user_name" type="text" required placeholder="e.g., John Doe">
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="user_phone">Phone Number</label>
              <input id="user_phone" name="user_phone" type="tel" required placeholder="+233 54 389 9210">
            </div>
            <div class="col">
              <label for="maintenance_type">Type of Maintenance</label>
              <select id="maintenance_type" name="maintenance_type" required>
                <option value="">-- Select --</option>
                <option>Wiring fault / repair</option>
                <option>Rewiring / new connection</option>
                <option>Lighting / fan installation</option>
                <option>Socket outlet installation</option>
                <option>Fuse box / circuit breaker</option>
                <option>Generator / inverter</option>
                <option>Appliance connection</option>
                <option>Solar PV / battery system</option>
                <option>Other</option>
              </select>
            </div>
          </div>
          <div class="buttons" style="margin-top:6px">
            <button type="button" class="btn btn-primary" id="next1">Next âž¡</button>
            <a class="whatsapp" id="quickwhats" target="_blank" href="https://api.whatsapp.com/send?phone=233543899210&text=Hello%20SmartFix%2C%20I%20need%20help.">ðŸ’¬ Quick WhatsApp</a>
            <div style="margin-left:auto" class="subtitle">Step 1 of 3</div>
          </div>
        </form>
      </section>

      <!-- Step 2 -->
      <section id="step2" class="step">
        <p class="subtitle">Step 2 â€” Job details</p>
        <div>
          <div class="row">
            <div class="col">
              <label for="user_email">Email</label>
              <input id="user_email" name="user_email" type="email" required placeholder="you@example.com">
            </div>
            <div class="col">
              <label for="audience_level">Priority Level</label>
              <select id="audience_level" name="audience_level" required>
                <option value="">-- Select Priority --</option>
                <option>Low (Flexible)</option>
                <option>Medium (2â€“3 Days)</option>
                <option>High (Urgent)</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="user_address">Contact Address</label>
              <input id="user_address" name="user_address" type="text" required placeholder="e.g., 12 Freedom Street, Accra">
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="preferred_datetime">Preferred Date & Time</label>
              <input id="preferred_datetime" name="preferred_datetime" type="datetime-local">
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="message">Describe the Problem</label>
              <textarea id="message" name="message" placeholder="Describe issue..."></textarea>
            </div>
          </div>
          <div class="buttons" style="margin-top:6px">
            <button type="button" class="btn btn-ghost" id="back1">â¬… Back</button>
            <button type="button" class="btn btn-primary" id="toReview">Review & Send âž¡</button>
            <div style="margin-left:auto" class="subtitle">Step 2 of 3</div>
          </div>
        </div>
      </section>

      <!-- Review -->
      <section id="review" class="step">
        <p class="subtitle">Review your details â€” confirm before sending</p>
        <div class="review" id="reviewBox"></div>
        <div style="display:flex;gap:10px;align-items:center;margin-top:12px">
          <button type="button" class="btn btn-ghost" id="editBtn">â¬… Edit</button>
          <button type="button" class="btn btn-primary" id="confirmBtn">âœ… Confirm & Send</button>
          <div id="sending" style="display:none;margin-left:12px"><div class="spinner" aria-hidden="true"></div></div>
        </div>
      </section>
    </div>

    <!-- About / Contact / Address / Footer (unchanged) -->
    <section class="info card" style="margin-top:18px" id="about">
      <h2 style="margin-top:0;color:var(--accent1)">About SmartFix electricals</h2>
      <p class="subtitle">SmartFix electricals is a professional electrical maintenance and installation service operating in Accra and surrounding areas. We handle residential and light commercial electrical work with a focus on safety, clarity, and reliability.</p>
    </section>
    <section class="info card" style="margin-top:18px" id="contact">
      <h2 style="margin-top:0;color:var(--accent1)">Contact Us</h2>
      <p class="subtitle"><strong>SmartFix electricals</strong></p>
      <p class="subtitle">Phone / WhatsApp: <a href="tel:+233543899210" style="color:#fff;text-decoration:underline">+233 54 389 9210</a> â€” Alt: <a href="tel:+0534448661" style="color:#fff;text-decoration:underline">+053 444 8661</a></p>
      <p class="subtitle">Email: <a href="mailto:timothytiekuapawu@gmail.com" style="color:#fff;text-decoration:underline">timothytiekuapawu@gmail.com</a></p>
      <p class="subtitle">Service area: Accra & surrounding areas. Available Monâ€“Sat.</p>
    </section>
    <section class="info card" style="margin-top:18px" id="address">
      <h2 style="margin-top:0;color:var(--accent1)">Our Address</h2>
      <p class="subtitle"><strong>Location:</strong> TTU Efiakuma, Takoradi, Ghana</p>
      <p class="subtitle"><strong>Office Hours:</strong> Mon â€“ Sat, 8:00 AM â€“ 6:00 PM</p>
      <p class="subtitle"><strong>Directions:</strong> Located near Takoradi Technical University Akalima junction â€” easily accessible by main road.</p>
    </section>
    <footer><small>Â© SmartFix electricals</small></footer>
  </main>

  <!-- SCRIPT -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
  try { emailjs.init("ad1dHGUf_gonZ5ERG"); } catch(e) {}

  const step1=document.getElementById('step1');
  const step2=document.getElementById('step2');
  const review=document.getElementById('review');
  const prog=document.getElementById('prog');

  function showStep(step){ document.querySelectorAll('section.step').forEach(s=>s.classList.remove('active')); step.classList.add('active'); }

  document.getElementById('next1').addEventListener('click',()=>{
    if(!document.getElementById('user_name').value.trim() || !document.getElementById('user_phone').value.trim() || !document.getElementById('maintenance_type').value){
      alert('Please fill Full Name, Phone and Maintenance Type.'); return;
    }
    showStep(step2); prog.style.width='66%';
  });
  document.getElementById('back1').addEventListener('click',()=>{ showStep(step1); prog.style.width='33%'; });

  document.getElementById('toReview').addEventListener('click',()=>{
    const email=document.getElementById('user_email').value.trim();
    const priority=document.getElementById('audience_level').value;
    const address=document.getElementById('user_address').value.trim();
    if(!email || !priority || !address){ alert('Please fill Email, Priority, and Contact Address before reviewing.'); return; }

    const data={
      user_name:document.getElementById('user_name').value.trim(),
      user_phone:document.getElementById('user_phone').value.trim(),
      user_address:address,
      maintenance_type:document.getElementById('maintenance_type').value,
      user_email:email,
      audience_level:priority,
      preferred_datetime:document.getElementById('preferred_datetime').value||'',
      message:document.getElementById('message').value.trim()||''
    };
    window.sessionStorage.setItem('smartfix_booking',JSON.stringify(data));

    const box=document.getElementById('reviewBox');
    box.innerHTML=`
      <div><strong>Name:</strong> ${escapeHtml(data.user_name)}</div>
      <div><strong>Phone:</strong> ${escapeHtml(data.user_phone)}</div>
      <div><strong>Contact Address:</strong> ${escapeHtml(data.user_address)}</div>
      <div><strong>Maintenance Type:</strong> ${escapeHtml(data.maintenance_type)}</div>
      <div><strong>Email:</strong> ${escapeHtml(data.user_email)}</div>
      <div><strong>Priority:</strong> ${escapeHtml(data.audience_level)}</div>
      <div><strong>Preferred Date & Time:</strong> ${escapeHtml(data.preferred_datetime||'Not specified')}</div>
      <div><strong>Description:</strong> ${escapeHtml(data.message||'No description provided')}</div>
    `;
    showStep(review); prog.style.width='100%';
  });

  document.getElementById('editBtn').addEventListener('click',()=>{ showStep(step2); prog.style.width='66%'; });

  document.getElementById('confirmBtn').addEventListener('click',()=>{
    const raw=window.sessionStorage.getItem('smartfix_booking');
    if(!raw){ alert('No booking found.'); return; }
    const params=JSON.parse(raw);
    document.getElementById('confirmBtn').disabled=true; document.getElementById('sending').style.display='block';
    if(typeof emailjs==='undefined' || !emailjs.send){
      setTimeout(()=>{ document.getElementById('sending').style.display='none'; document.getElementById('resultSuccess').class
